= Go Patterns and Practices
Abhinav Gupta
2022-09-19
:revealjs_fragmentInURL: true
:revealjs_hash: true
:revealjs_navigationMode: linear
:revealjs_pdfseparatefragments: false
:revealjs_slideNumber: c/t
:revealjs_theme: black
:revealjs_totalTime: 2700
:customcss: css/style.css
:icons: font
:idprefix:
:idseparator: -
:mermaid-theme: dark
:mermaid-background: transparent
:mermaid-format: svg
:source-highlighter: highlightjs

include::intro.adoc[leveloffset=+1]
include::agenda.adoc[leveloffset=+1]
include::rules.adoc[leveloffset=+1]
include::patterns.adoc[leveloffset=+1]

== Practices

== Object Initialization

* Always fully hydrates
* Constructor
* sync.Once pattern?

[.notes]
--
--

== Goroutine management

* Always control the lifetime
* Don't fire and forget
* No unstoppable background worker

// TODO: worker pool, stop method, etc.

== Errors

* Producing
* Consuming

== Produce errors

* errors.New, fmt.Errorf
* Sentinel errors
* Structured errors

== Consume errors

* Handle the error
* Propagate the error

== Handle errors

* match the error with errors.Is
* extract information with errors.As
* log the error

== Propagate errors

* return as-is
* add context with fmt.Errorf, use %w
* add information with structured error

== Discussion
